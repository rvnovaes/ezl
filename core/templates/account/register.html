{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'skeleton/images/favicon.png' %}">
    <title>EZL</title>
    <!-- Bootstrap Core CSS -->
    <link href="{% static 'skeleton/bootstrap/dist/css/bootstrap.min.css' %}" rel="stylesheet">
    <!-- animation CSS -->
    <link href="{% static 'skeleton/css/animate.css' %}" rel="stylesheet">
    <!-- Wizard CSS -->
    <link href="{% static 'skeleton/plugins/bower_components/jquery-wizard-master/css/wizard.css' %}" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="{% static 'skeleton/css/style.css' %}" rel="stylesheet">
    <!-- color CSS -->
    <link href="{% static 'skeleton/css/colors/default.css' %}" id="theme" rel="stylesheet">

    <link href="{% static 'libs/toastr/build/toastr.min.css' %}" rel="stylesheet">

    <link href="{% static 'skeleton/plugins/bower_components/custom-select/custom-select.css' %}" rel="stylesheet" type="text/css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body class="">
    <!-- ============================================================== -->
    <!-- Preloader -->
    <!-- ============================================================== -->
    <div class="preloader">
        <svg class="circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />
        </svg>
    </div>
    <!-- ============================================================== -->
    <!-- Wrapper -->
    <!-- ============================================================== -->
    <div id="wrapper">
        <nav class="navbar navbar-default navbar-static-top m-b-0">
            <div class="col-md-12 text-center m-t-15 m-b-10">
                <p>Já possui uma conta? <a href="{% url 'login' %}" class="text-primary m-l-5"><b>Entrar</b></a>
                </p>
            </div>
        </nav>
        <div id="page-wrapper" style="margin-left: 0px; ">
            <div class="container-fluid">
                <!-- .row -->
                <div class="row">
                    <div class="col-sm-12">
                        <div class="white-box">
                            <h3 class="box-title m-b-0">CADASTRE-SE AGORA</h3>
                            <p class="text-muted m-b-30 font-13">Crie sua conta para começar a trabalhar</p>
                            <div id="registerForm" class="wizard">
                                <ul class="wizard-steps" role="tablist">
                                    <li class="active" role="tab">
                                        <h4><span><i class="ti-user"></i></span>Dados de Acesso</h4> </li>
                                    <li role="tab">
                                        <h4><span><i class="fa fa-building-o"></i></span>Forma de trabalho</h4> </li>
                                    <li role="tab">
                                        <h4><span><i class="ti-check"></i></span>Confirmar</h4> </li>
                                </ul>
                                <form id="validation" class="form-horizontal">
                                    <div class="wizard-content">
                                        <div class="wizard-pane active" role="tabpanel">
                                            <div class="form-group">
                                                <label class="col-xs-3 control-label">Nome</label>
                                                <div class="col-xs-5">
                                                    <input type="text" class="form-control" name="name" /> </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-xs-3 control-label">Usuário</label>
                                                <div class="col-xs-5">
                                                    <input type="text" class="form-control" name="username" /> </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-xs-3 control-label">E-mail</label>
                                                <div class="col-xs-5">
                                                    <input type="text" class="form-control" name="email" /> </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-xs-3 control-label">Senha</label>
                                                <div class="col-xs-5">
                                                    <input type="password" class="form-control" name="password" /> </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-xs-3 control-label">Confirmar Senha</label>
                                                <div class="col-xs-5">
                                                    <input type="password" class="form-control" name="confirmpassword" /> </div>
                                            </div>
                                        </div>
                                        <div class="wizard-pane" role="tabpanel">
                                            <div class="form-group">
                                                <div class="input-group">
                                                </div>
                                                <input type="hidden" name="select_office_register" required>
                                                <ul id="select_office_register" class="select-row-icon">
                                                    <li>
                                                        <a id="existing_office" data-id="1" class='select_office_list' href="javascript:void(0)"><i class="mdi mdi-credit-card"></i> <span>Vincular-me a um escritório já cadastrado</span> <i class="whn-hov mdi mdi-checkbox-marked-circle"></i></a>
                                                        <div id="select_office_detail_1" class="hide b-all p-20 m-b-15 text-center">
                                                            <label for="existing_office">Selecione os escritórios que deseja se vincular:</label>
                                                            <select class="select2 m-b-10 select2-multiple" multiple="multiple"
                                                                    data-placeholder="Selecione um escritório" tabindex="-1"
                                                                    name="existing_office" style="" >
                                                                {% for office in offices %}
                                                                <option value="{{ office.pk }}">{{ office.legal_name }}</option>
                                                            {% endfor %}
                                                            </select>
                                                            <select>
                                                            {% for office in offices %}
                                                                <option value="{{ office.pk }}">{{ office.legal_name }}</option>
                                                            {% endfor %}
                                                            </select>
                                                        </div>
                                                    </li>
                                                    <li>
                                                        <a id="new_office" data-id="2" class='select_office_list' href="javascript:void(0)"><i class="mdi mdi-monitor"></i> <span> Não encontrei meu escritório e desejo cadastrá-lo</span> <i class="whn-hov mdi mdi-checkbox-marked-circle"></i></a>
                                                        <div id="select_office_detail_2" class="hide b-all p-20 m-b-15 text-center">TESTE 2</div>
                                                    </li>
                                                    <li>
                                                        <a id="work_alone" data-id="3" class='select_office_list' href="javascript:void(0)"><i class="mdi mdi-cash"></i> <span>Trabalho sozinho</span> <i class="whn-hov mdi mdi-checkbox-marked-circle"></i></a>
                                                        <div id="select_office_detail_3" class="hide b-all p-20 m-b-15 text-center">TESTE 3</div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="wizard-pane" role="tabpanel">

                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.row -->
            </div>
        </div>
    </div>
    <!-- jQuery -->
    <script src="{% static 'skeleton/plugins/bower_components/jquery/dist/jquery.min.js' %}"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="{% static 'skeleton/bootstrap/dist/js/bootstrap.min.js' %}"></script>
    <!-- Menu Plugin JavaScript -->
    <script src="{% static 'skeleton/plugins/bower_components/sidebar-nav/dist/sidebar-nav.min.js' %}"></script>
    <!--slimscroll JavaScript -->
    <script src="{% static 'skeleton/js/jquery.slimscroll.js' %}"></script>
    <!--Wave Effects -->
    <script src="{% static 'skeleton/js/waves.js' %}"></script>
    <!-- Form Wizard JavaScript -->
    <script src="{% static 'skeleton/plugins/bower_components/jquery-wizard-master/dist/jquery-wizard.min.js' %}"></script>
    <!-- FormValidation -->
    <link rel="stylesheet" href="{% static 'skeleton/plugins/bower_components/jquery-wizard-master/libs/formvalidation/formValidation.min.css' %}">
    <!-- FormValidation plugin and the class supports validating Bootstrap form -->
    <script src="{% static 'skeleton/plugins/bower_components/jquery-wizard-master/libs/formvalidation/formValidation.min.js' %}"></script>
    <script src="{% static 'skeleton/plugins/bower_components/jquery-wizard-master/libs/formvalidation/bootstrap.min.js' %}"></script>
    <!-- Custom Theme JavaScript -->
    <script src="{% static 'skeleton/js/custom.min.js' %}"></script>
    <!--Style Switcher -->
    <script src="{% static 'skeleton/plugins/bower_components/styleswitcher/jQuery.style.switcher.js' %}"></script>
    <!--Toast-->
    <script src="{% static 'libs/toastr/build/toastr.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'skeleton/plugins/bower_components/custom-select/custom-select.min.js' %}"></script>
    <script>
        $(document).ready(function () {
            {% if form.errors %}
                {% for field in form %}
                    {% for error in field.errors %}
                        toastr.error('{{ error }}', 'Erro ao efetuar o login', {timeOut: 5000});
                    {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                    toastr.error('{{ error }}', 'Erro ao efetuar o login', {timeOut: 5000});
                {% endfor %}
            {% endif %}
            $('.select2').select2();
        })
    </script>
    <script type="text/javascript">
    (function() {
        $('#registerForm').wizard({
            buttonLabels: {
                next: 'Próximo',
                back: 'Anterior',
                finish: 'Finalizar'
            },
            onInit: function() {
                $('#validation').formValidation({
                    framework: 'bootstrap',
                    fields: {
                        name: {
                            validators: {
                                notEmpty: {
                                    message: 'O campo de nome é obrigatório'
                                }
                            }
                        },
                        username: {
                            validators: {
                                notEmpty: {
                                    message: 'O nome de usuário é obrigatório'
                                },
                            }
                        },
                        email: {
                            validators: {
                                notEmpty: {
                                    message: 'O e-mail é obrigatório'
                                },
                                emailAddress: {
                                    message: 'O valor inserido não é um endereço de e-mail válido'
                                }
                            }
                        },
                        password: {
                            validators: {
                                notEmpty: {
                                    message: 'É obrigatório uma senha de acesso'
                                },
                                different: {
                                    field: 'username',
                                    message: 'A senha não pode ser a mesma do usuário'
                                }
                            }
                        },
                        confirmpassword: {
                            validators: {
                                identical: {
                                    field: 'password',
                                    message: 'Os valores digitados para os campos de senha não conferem'
                                }
                            }
                        }
                    }
                });
            },
            validator: function() {
                var fv = $('#validation').data('formValidation');
                var $this = $(this);
                // Validate the container
                fv.validateContainer($this);
                var isValidStep = fv.isValidContainer($this);
                if (isValidStep === false || isValidStep === null) {
                    return false;
                }
                return true;
            },
            onFinish: function() {
                $('#validation').submit();
                swal("Message Finish!", "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed lorem erat eleifend ex semper, lobortis purus sed.");
            }
        });
    })();
    </script>
    <script>

    $("#select_office_register li a").on('click', function () {
        $('.select_office_list').removeClass("selected");
        $(this).addClass("selected");
        $('input[name=select_office_register]').val($(this).data('id'));
        $('div[id^="select_office_detail_"]').addClass("hide");
        $("#select_office_detail_"+$(this).data('id')).removeClass("hide");
    });
    </script>

</body>
</html>
