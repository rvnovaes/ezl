[
{
  "model": "dashboard.linechart",
  "pk": 3,
  "fields": {
    "name": "AUDI\u00caNCIAS POR M\u00caS",
    "code": "from lawsuit.models import Folder\r\nfrom task.models import Task\r\nfrom random import randint\r\nfrom django_pandas.io import read_frame\r\nimport pandas as pd\r\nimport numpy\r\n\r\nfolders = Folder.objects.filter(person_customer__company=self.company)\r\ntasks = Task.objects.filter(\r\n  movement__folder__in=folders, \r\n  type_task__type_task_main__is_hearing=True,   \r\n  execution_date__month__lte=timezone.now().month).values('execution_date').order_by('execution_date')\r\n\r\ndf = read_frame(tasks)\r\ndata_audiences = df.groupby(df['execution_date'].dt.strftime('%B/%Y')).count().sort_values('execution_date', ascending=True)\r\nlabels = list(data_audiences.T)\r\ndata_audiences = list(numpy.hstack(data_audiences.values))\r\nresult = {\r\n    \"labels\":labels,\r\n    \"datasets\": [\r\n        {\r\n            \"label\": \"QUANTIDADE AUDI\u00caNCIAS POR M\u00caS (At\u00e9 {})\".format(timezone.now().strftime('%d/%m/%Y')),\r\n            \"data\": data_audiences,\r\n            \"backgroundColor\": \"#DC143C\",\r\n            \"borderColor\": \"#DC143C\",\r\n            \"fill\": False,\r\n            \"datalabels\": {\r\n              \"font\": {\r\n                \"size\": '10'\r\n              },\t\t    \t\t\t\r\n              \"backgroundColor\": '#DC143C',\r\n              \"color\": '#fff',\r\n              \"borderRadius\": 10,\r\n              \"anchor\": \"top\"\r\n            }          \r\n        },\r\n    ]\r\n}",
    "schema": "{\r\n    \"labels\": [\r\n        \"PONTOS DA LINHA EX: [JANEIRO, FEVEREIRO, MARCO]\"\r\n    ],\r\n    \"datasets\": [\r\n        {\r\n            \"label\": \"LABEL DO INDICADOR EX: (AUDI\\u00caCIAS POR M\\u00caS)\",\r\n            \"data\": [\r\n                \"VALORES DO INDICADOR EX: 20, 47, 50\"\r\n            ],\r\n            \"backgroundColor\": \"COR DO BACKGROUND DE FUNDO CASO FILL = True, EX: blue\",\r\n            \"borderColor\": \"COR DA BORDA DA LINHA EX: blue\",\r\n            \"fill\": false\r\n        }\r\n    ]\r\n}"
  }
},
{
  "model": "dashboard.linechart",
  "pk": 4,
  "fields": {
    "name": "ACORDOS POR M\u00caS",
    "code": "from lawsuit.models import Folder\r\nfrom task.models import Task\r\nfrom random import randint\r\nfrom django_pandas.io import read_frame\r\nimport pandas as pd\r\nimport numpy\r\n\r\nfolders = Folder.objects.filter(person_customer__company=self.company)\r\ntasks = Task.objects.filter(\r\n  movement__folder__in=folders, \r\n  type_task__type_task_main__is_hearing=True,   \r\n  execution_date__month__lte=timezone.now().month).values('execution_date').order_by('execution_date').filter(**{'survey_result__Acordo realizado?': 'Sim'})\r\n\r\ndf = read_frame(tasks)\r\ndata_audiences = df.groupby(df['execution_date'].dt.strftime('%B/%Y')).count().sort_values('execution_date', ascending=True)\r\nlabels = list(data_audiences.T)\r\ndata_audiences = list(numpy.hstack(data_audiences.values))\r\nresult = {\r\n    \"labels\":labels,\r\n    \"datasets\": [\r\n        {\r\n            \"label\": \"QUANTIDADE ACORDOS POR M\u00caS (At\u00e9 {})\".format(timezone.now().strftime('%d/%m/%Y')),\r\n            \"data\": data_audiences,\r\n            \"backgroundColor\": \"#00FF00\",\r\n            \"borderColor\": \"#00FF00\",\r\n            \"fill\": False, \r\n            \"datalabels\": {\r\n              \"font\": {\r\n                \"size\": '10'\r\n              },\t\t    \t\t\t\r\n              \"backgroundColor\": '#00FF00',\r\n              \"color\": '#000',\r\n              \"borderRadius\": 10,\r\n              \"anchor\": \"top\"\r\n            }          \r\n        },\r\n    ]\r\n}",
    "schema": "{\r\n    \"labels\": [\r\n        \"PONTOS DA LINHA EX: [JANEIRO, FEVEREIRO, MARCO]\"\r\n    ],\r\n    \"datasets\": [\r\n        {\r\n            \"label\": \"LABEL DO INDICADOR EX: (AUDI\\u00caCIAS POR M\\u00caS)\",\r\n            \"data\": [\r\n                \"VALORES DO INDICADOR EX: 20, 47, 50\"\r\n            ],\r\n            \"backgroundColor\": \"COR DO BACKGROUND DE FUNDO CASO FILL = True, EX: blue\",\r\n            \"borderColor\": \"COR DA BORDA DA LINHA EX: blue\",\r\n            \"fill\": false\r\n        }\r\n    ]\r\n}"
  }
}
]
