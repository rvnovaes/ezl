{% extends 'skeleton/forms/base.html' %}
{% load static bootstrap3 form_tags %}
{% load ecm_tags %}
{% load core_filters %}
{% load staticfiles %}

{% block form %}
  {% for field in form %}
      {% field_type field as field_type %}
      {% if field_type == 'checkbox'%}
          <div class="form-group col-sm-6">
              <div class="checkbox checkbox-success">
                  {{ field }}
                  {{ field.label_tag }}
              </div>
          </div>
      {% elif field_type != 'clearablefile' and field.name != 'documents' %}
          {% bootstrap_field field form_group_class="form-group col-sm-6" required_css_class="ezl-required" %}
      {% endif %}
  {% endfor %}
{% endblock %}

{%block extra_form %}
<!-- Modal -->
{%endblock%}

{% block extra_scripts %}
    {{ block.super }}
    <script src="{% static 'skeleton/plugins/bower_components/datatables/jquery.dataTables.min.js' %}?rev={{request.REVIEW}}"></script>
{#    <script src="{% static 'task/task-typetask.js' %}"></script>#}
    <script src="{% static 'libs/jQuery-File-Upload/js/vendor/jquery.ui.widget.js' %}?rev={{request.REVIEW}}"></script>
    <script src="{% static 'libs/jQuery-File-Upload/js/jquery.iframe-transport.js' %}?rev={{request.REVIEW}}"></script>
    <script src="{% static 'libs/jQuery-File-Upload/js/jquery.fileupload.js' %}?rev={{request.REVIEW}}"></script>
    {% if object %}
    {% include 'task/includes/upload.html' %}
    <script src="{% static 'libs/jQuery-File-Upload/js/vendor/jquery.ui.widget.js' %}?rev={{request.REVIEW}}"></script>
    <script src="{% static 'libs/jQuery-File-Upload/js/jquery.iframe-transport.js' %}?rev={{request.REVIEW}}"></script>
    <script src="{% static 'libs/jQuery-File-Upload/js/jquery.fileupload.js' %}?rev={{request.REVIEW}}"></script>
    <script src="{% static 'libs/jQuery-File-Upload/js/basic-upload.js' %}?rev={{request.REVIEW}}"></script>
    {% else %}
    {% include 'ecm/javascripts.html' %}
    {% endif %}
    <script>
        {% if object %}
        get_internal_ecms({{ object.pk}});
        {% endif %}
    </script>
    {% endblock %}

{% block extra_stylesheets %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static "fileuploader.css" %}">
    <link href="{% static "skeleton/plugins/bower_components/datatables/jquery.dataTables.min.css" %}" rel="stylesheet" type="text/css" />
{% endblock %}
{% block attachment_form %}
    {% if object %}
        {% include 'task/task_detail/arq_ecm.html' %}
    {% else %}
        {% include 'ecm/attachments.html' %}
    {% endif %}
{% endblock attachment_form %}
{% block extra_modal %}
    <!-- Janela modal para mostrar progresso de deleção do arquivo -->
    <div id="deleting" class="modal">
        <div class="modal-dialog">
            <div class="modal-content ">
                <div class="modal-body" style="text-align: center;">
                    Excluindo arquivo ...
                </div>
                <div class="modal-footer">
                    <div class="progress progress-striped active">
                        <div class="progress-bar" style="width: 100%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Janela modal para mostrar progresso do envio de arquivos -->
    <div class="modal fade" id="modal-progress" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" style="text-align: center">Enviando ...</h4>
                </div>
                <div class="modal-body">
                    <div class="progress progress-lg">
                        <div class="progress-bar progress-bar-info active progress-bar-striped" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100" style="width: 0%" role="progressbar">
                            0
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock extra_modal %}
