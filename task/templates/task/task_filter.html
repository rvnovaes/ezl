{% extends 'inicial.html' %}
{% load django_tables2 %}
{% load static %}
{% load staticfiles %}
{% load querystring from django_tables2 %}
{% load bootstrap3 %}
{% block content %}
    <style>
        label {
            font-size: small !important;
        }

        .select2-selection{
            width: 250px !important;
        }

        .select2-selection__arrow{
            width: 90px !important;
        }

        .select2-dropdown--below{
            width: 250px !important;
        }
    </style>
    {#    <div class="container form-group"><label class="is-focused"><h2>{{ title_page }}</h2></label></div>#}
    <div class="panel panel-primary">
        <div class="panel-content">
            {% include 'core/widgets/messages.html' %}
            <form method="get">
                {% csrf_token %}
                <fieldset>
                    <div class="panel panel-default" style="margin-top: 2%; margin-left: 2%; margin-right: 2%;">
                        <div class="panel-heading"><i class="material-icons">search</i> &nbsp; Filtrar Providências
                        </div>
                        <div class="panel-body" style="margin-left: 15px !important;">
                            <div class="row">
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label>
                                            {{ filter.form.openned.label }}
                                            {{ filter.form.openned }}
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label>
                                            {{ filter.form.accepted.label }}
                                            {{ filter.form.accepted }}
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label>
                                            {{ filter.form.returned.label }}
                                            {{ filter.form.returned }}
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label>
                                            {{ filter.form.refused.label }}
                                            {{ filter.form.refused }}
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label>
                                            {{ filter.form.done.label }}
                                            {{ filter.form.done }}
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <br><br>

                            <div class="row">
                                <div class=" col-sm-6">
                                    <div class="form-group">
                                        <label>
                                            Primeiro prazo
                                        </label>
                                        {{ filter.form.reminder }}

                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>
                                            Cliente
                                        </label><br>
                                        {{ filter.form.client }}
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class=" col-sm-6" style="padding-left: 0px !important;">
                                <div class="form-group">
                                    <label>
                                        Prazo Final
                                    </label>
                                    {{ filter.form.deadline }}
                                </div>

                            </div>


                            <br><br>
                            {#                        <div class="form-group">#}
                            {#                            <label>{{ filter.form.reminder.label_tag }}</label>#}

                            {#                            <div class="form-group">#}
                            {#                                <label style="display: grid;">#}
                            {#                                    {{ filter.form.reminder.label_tag }}#}
                            {#                                    {{ filter.form.reminder }}#}
                            {#                                </label>#}
                            {#                            </div>#}
                            {#                            <div class="form-group">#}
                            {#                                <label style="display: grid; ">#}
                            {#                                    {{ filter.form.deadline.label_tag }}#}
                            {#                                    {{ filter.form.deadline }}#}
                            {#                                </label>#}
                            {#                            </div>#}


                        </div>
                        <br>
                        <button type="submit" class="btn btn-raised btn-primary" style="margin-left: 30px !important;">
                            <span class="glyphicon glyphicon-search"></span> Exibir
                        </button>
                    </div>

                </fieldset>
                <div>

                </div>
            </form>
            {{ filter.form.media }}
        </div>
    </div>
    {% if table.page %}
        <div class="table-container">
    {% endif %}
{% block table %}

    <div class="panel panel-primary">
    <div class="panel-heading">
        <div class="panel-title form-row">Listagem de Providências ({{ table.length }})</div>
    </div>
    <div class="panel-body">
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                {% block table.thead %}
                    <thead>
                    <tr>
                        {% for column in table.columns %}
                            {% if column.orderable %}
                                <th {{ column.attrs.th.as_html }}><a
                                        href="{% querystring table.prefixed_order_by_field=column.order_by_alias.next %}">{{ column.header|title }}</a>
                                </th>
                            {% else %}
                                <th {{ column.attrs.th.as_html }}>{{ column.header|title }}</th>
                            {% endif %}
                        {% endfor %}
                    </tr>
                    </thead>
                {% endblock table.thead %}
                {% block table.tbody %}
                    <tbody>
                    {% for row in table.page.object_list|default:table.rows %} {# support pagination #}
                        {% block table.tbody.row %}
                            <tr class="{% cycle "odd" "even" %}">
                                {% for column, cell in row.items %}
                                    <td {{ column.attrs.td.as_html }}>{{ cell }}</td>
                                {% endfor %}
                            </tr>
                        {% endblock table.tbody.row %}
                    {% empty %}
                        {% if table.empty_text %}
                            {% block table.tbody.empty_text %}
                                <tr>
                                    <td colspan="{{ table.columns|length }}">{{ table.empty_text }}</td>
                                </tr>
                            {% endblock table.tbody.empty_text %}
                        {% endif %}
                    {% endfor %}
                    </tbody>
                {% endblock table.tbody %}
                {% block table.tfoot %}
                    <tfoot></tfoot>
                {% endblock table.tfoot %}
            </table>
        </div>
        {% if table.page %}
            {% block pagination %}
                {% bootstrap_pagination table.page url=request.get_full_path %}
            {% endblock pagination %}
        {% endif %}
    </div>/
{% endblock table %}
{% endblock content %}